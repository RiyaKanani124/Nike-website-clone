{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cartItems,setCartItems]=useState(()=>{const savedCart=localStorage.getItem('cartItems');return savedCart?JSON.parse(savedCart):[];});const[hasViewedCart,setHasViewedCart]=useState(false);useEffect(()=>{localStorage.setItem('cartItems',JSON.stringify(cartItems));},[cartItems]);const addToCart=product=>{setCartItems(prevItems=>{const existingProductIndex=prevItems.findIndex(item=>item.title===product.title);if(existingProductIndex!==-1){const updatedItems=[...prevItems];updatedItems[existingProductIndex].quantity+=1;return updatedItems;}else{return[...prevItems,{...product,quantity:1}];}});setHasViewedCart(false);};const resetCartView=()=>{setHasViewedCart(true);};const removeCartItem=index=>{setCartItems(prevItems=>{const updatedItems=[...prevItems];updatedItems.splice(index,1);return updatedItems;});};const updateCartItemQuantity=(index,quantity)=>{setCartItems(prevItems=>{const updatedItems=[...prevItems];if(updatedItems[index].quantity+quantity>0){updatedItems[index].quantity+=quantity;}else{updatedItems.splice(index,1);}return updatedItems;});};const increaseQuantity=index=>{updateCartItemQuantity(index,1);};const decreaseQuantity=index=>{updateCartItemQuantity(index,-1);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cartItems,setCartItems,addToCart,hasViewedCart,resetCartView,removeCartItem,increaseQuantity,decreaseQuantity},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","CartContext","CartProvider","_ref","children","cartItems","setCartItems","savedCart","localStorage","getItem","JSON","parse","hasViewedCart","setHasViewedCart","setItem","stringify","addToCart","product","prevItems","existingProductIndex","findIndex","item","title","updatedItems","quantity","resetCartView","removeCartItem","index","splice","updateCartItemQuantity","increaseQuantity","decreaseQuantity","Provider","value"],"sources":["D:/awt/src/components/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState(() => {\r\n    const savedCart = localStorage.getItem('cartItems');\r\n    return savedCart ? JSON.parse(savedCart) : [];\r\n  });\r\n\r\n  const [hasViewedCart, setHasViewedCart] = useState(false);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n  }, [cartItems]);\r\n\r\n  const addToCart = (product) => {\r\n    setCartItems((prevItems) => {\r\n      const existingProductIndex = prevItems.findIndex(item => item.title === product.title);\r\n      if (existingProductIndex !== -1) {\r\n        const updatedItems = [...prevItems];\r\n        updatedItems[existingProductIndex].quantity += 1;\r\n        return updatedItems;\r\n      } else {\r\n        return [...prevItems, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n    setHasViewedCart(false); \r\n  };\r\n\r\n  const resetCartView = () => {\r\n    setHasViewedCart(true);\r\n  };\r\n\r\n  const removeCartItem = (index) => {\r\n    setCartItems((prevItems) => {\r\n      const updatedItems = [...prevItems];\r\n      updatedItems.splice(index, 1);\r\n      return updatedItems;\r\n    });\r\n  };\r\n\r\n  const updateCartItemQuantity = (index, quantity) => {\r\n    setCartItems((prevItems) => {\r\n      const updatedItems = [...prevItems];\r\n      if (updatedItems[index].quantity + quantity > 0) {\r\n        updatedItems[index].quantity += quantity;\r\n      } else {\r\n        updatedItems.splice(index, 1);\r\n      }\r\n      return updatedItems;\r\n    });\r\n  };\r\n\r\n  const increaseQuantity = (index) => {\r\n    updateCartItemQuantity(index, 1);\r\n  };\r\n\r\n  const decreaseQuantity = (index) => {\r\n    updateCartItemQuantity(index, -1);\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={{ cartItems, setCartItems, addToCart, hasViewedCart, resetCartView, removeCartItem, increaseQuantity, decreaseQuantity }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}